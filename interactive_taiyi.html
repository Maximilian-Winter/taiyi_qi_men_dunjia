
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Interactive Taiyi Divine Number</title>
    <style>
        
        /* Taiyi-specific CSS styles */
        body {
            background: radial-gradient(circle at center, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            font-family: 'Microsoft YaHei', serif;
            color: #ffd700;
            margin: 0;
            padding: 0;
        }

        .taiyi-header {
            text-align: center;
            padding: 20px;
            border-bottom: 2px solid #ffd700;
        }

        .taiyi-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            padding: 40px;
            min-height: 70vh;
        }

        .circular-chart {
            position: relative;
        }

        .taiyi-panel {
            width: 300px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #ffd700;
        }

        .star-info {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255,215,0,0.1);
            border-radius: 10px;
        }

        .element-bar {
            display: flex;
            align-items: center;
            margin: 8px 0;
            gap: 10px;
        }

        .element-name {
            width: 30px;
            font-weight: bold;
        }

        .bar-container {
            flex: 1;
            height: 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .element-value {
            width: 50px;
            text-align: right;
            font-size: 12px;
        }

        .guidance-panel {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            margin: 20px;
            border-radius: 10px;
            border: 1px solid #ffd700;
        }
        
    </style>
</head>
<body>
    <div id="taiyi-app">
        <header class="taiyi-header">
            <h1>Â§™‰πôÁ•ûÊï∏ Interactive Taiyi Divine Number</h1>
            <div class="taiyi-controls">
                <input type="datetime-local" id="taiyi-time" 
                       value="2025-07-13T16:26">
                <button id="taiyi-calculate">Calculate</button>
                <button id="star-animation">Animate Stars</button>
            </div>
        </header>

        <main class="taiyi-container">
            <div class="circular-chart" id="taiyi-circle">
                
        <svg width="500" height="500" viewBox="0 0 500 500">
            <!-- Palace circles will be generated by JavaScript -->
        </svg>
        
            </div>

            <div class="taiyi-panel">
                <div class="star-info">
                    <h3>‚≠ê Master Star</h3>
                    <div id="master-star-info">
                        <p>ÊñáÊòå</p>
                        <p>Palace 2</p>
                        <p>Influence: 0.30</p>
                    </div>
                </div>

                <div class="star-info">
                    <h3>üåü Guest Star</h3>
                    <div id="guest-star-info">
                        <p>Â∞èÂæ∑</p>
                        <p>Palace 6</p>
                        <p>Influence: 0.08</p>
                    </div>
                </div>

                <div class="element-chart">
                    <h3>Elemental Influences</h3>
                    <div id="element-bars">
                        
            <div class="element-bar">
                <span class="element-name">Êú®</span>
                <div class="bar-container">
                    <div class="bar-fill" style="width: 15.0%; background-color: #228B22;"></div>
                </div>
                <span class="element-value">0.15</span>
            </div>
            
            <div class="element-bar">
                <span class="element-name">ÁÅ´</span>
                <div class="bar-container">
                    <div class="bar-fill" style="width: 0.0%; background-color: #DC143C;"></div>
                </div>
                <span class="element-value">0.00</span>
            </div>
            
            <div class="element-bar">
                <span class="element-name">Âúü</span>
                <div class="bar-container">
                    <div class="bar-fill" style="width: 12.0%; background-color: #DAA520;"></div>
                </div>
                <span class="element-value">0.12</span>
            </div>
            
            <div class="element-bar">
                <span class="element-name">Èáë</span>
                <div class="bar-container">
                    <div class="bar-fill" style="width: 9.811696570703452%; background-color: #C0C0C0;"></div>
                </div>
                <span class="element-value">0.10</span>
            </div>
            
            <div class="element-bar">
                <span class="element-name">Ê∞¥</span>
                <div class="bar-container">
                    <div class="bar-fill" style="width: 7.5%; background-color: #4169E1;"></div>
                </div>
                <span class="element-value">0.07</span>
            </div>
            
                    </div>
                </div>
            </div>
        </main>

        <div class="guidance-panel">
            <h3>Strategic Guidance</h3>
            <div id="guidance-content">
                <p>Primary strategy: Building support networks, providing foundation for others, receptive leadership; Supporting strategy: Establishing authority, creative leadership, initiating major projects; Elemental guidance: Initiation, new projects, creative breakthrough.</p>
            </div>
        </div>
    </div>

    <script>
        
        class TaiyiInteractive {
            constructor() {
                this.initializeSVG();
                this.bindEvents();
            }

            initializeSVG() {
                const svg = document.querySelector('svg');

                // Palace positions
                const palaces = [
                    {num: 1, x: 250, y: 80, name: "ÂùéÂÆÆ"},
                    {num: 2, x: 150, y: 350, name: "Âù§ÂÆÆ"},
                    {num: 3, x: 420, y: 250, name: "ÈúáÂÆÆ"},
                    {num: 4, x: 350, y: 350, name: "Â∑ΩÂÆÆ"},
                    {num: 5, x: 250, y: 250, name: "‰∏≠ÂÆÆ"},
                    {num: 6, x: 150, y: 150, name: "‰πæÂÆÆ"},
                    {num: 7, x: 80, y: 250, name: "ÂÖåÂÆÆ"},
                    {num: 8, x: 350, y: 150, name: "ËâÆÂÆÆ"},
                    {num: 9, x: 250, y: 420, name: "Èõ¢ÂÆÆ"}
                ];

                // Draw connections
                const center = palaces.find(p => p.num === 5);
                palaces.filter(p => p.num !== 5).forEach(palace => {
                    const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                    line.setAttribute("x1", center.x);
                    line.setAttribute("y1", center.y);
                    line.setAttribute("x2", palace.x);
                    line.setAttribute("y2", palace.y);
                    line.setAttribute("stroke", "#ffd700");
                    line.setAttribute("stroke-width", "1");
                    line.setAttribute("opacity", "0.3");
                    svg.appendChild(line);
                });

                // Draw palaces
                palaces.forEach(palace => {
                    const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                    circle.setAttribute("cx", palace.x);
                    circle.setAttribute("cy", palace.y);
                    circle.setAttribute("r", palace.num === 5 ? 40 : 30);
                    circle.setAttribute("fill", palace.num === 5 ? "#ffd700" : "rgba(255,215,0,0.2)");
                    circle.setAttribute("stroke", "#ffd700");
                    circle.setAttribute("stroke-width", "2");
                    circle.setAttribute("data-palace", palace.num);
                    circle.style.cursor = "pointer";

                    circle.addEventListener("click", () => this.selectPalace(palace.num));
                    svg.appendChild(circle);

                    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    text.setAttribute("x", palace.x);
                    text.setAttribute("y", palace.y + 5);
                    text.setAttribute("text-anchor", "middle");
                    text.setAttribute("fill", palace.num === 5 ? "#000" : "#ffd700");
                    text.setAttribute("font-size", "12");
                    text.textContent = palace.num;
                    svg.appendChild(text);
                });
            }

            selectPalace(palaceNum) {
                console.log(`Selected palace: ${palaceNum}`);
                // Highlight selected palace
                document.querySelectorAll('circle').forEach(c => {
                    c.setAttribute("stroke-width", "2");
                });

                const selectedCircle = document.querySelector(`circle[data-palace="${palaceNum}"]`);
                selectedCircle.setAttribute("stroke-width", "4");
            }

            bindEvents() {
                document.getElementById('taiyi-calculate').addEventListener('click', () => {
                    const newTime = document.getElementById('taiyi-time').value;
                    console.log(`Calculating for time: ${newTime}`);
                    // Would call backend to recalculate
                });

                document.getElementById('star-animation').addEventListener('click', () => {
                    this.animateStars();
                });
            }

            animateStars() {
                console.log('Starting star animation...');
                // Implementation for star movement animation
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            window.taiyiChart = new TaiyiInteractive();
        });
        
    </script>
</body>
</html>
        